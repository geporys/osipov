(this.webpackJsonposipov=this.webpackJsonposipov||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(10),l=n.n(i),r=(n(90),n(52)),s=n(38),o=n(142),d=n(154),j=n(149),u=n(114),b=n(74),p=n.n(b),f=n(153),h=n(150),m=n(148),O=n(67),x=n.n(O),g=n(75),v=n.n(g),C=n(145),y=n(151),F=n(157),N=n(155),w=n(152),I=n(76),S=n.n(I),k=n(68),B=n.n(k),D=n(156),L=n(6),T=Object(o.a)({input:{display:"none"},paper:{display:"flex",padding:"8px",flexDirection:"column",alignItems:"center"},img:{width:"300px"},root:{height:"100vh"},send:{margin:"10px"},formControl:{minWidth:120,margin:"10px"},upload:{display:"flex",justifyContent:"flex-start",alignItems:"center",padding:24},title:{margin:"24px"},listFiles:{maxHeight:"70ex",overflowY:"scroll"}}),U=function(){var e=T(),t={},n=Object(a.useState)(t),c=Object(s.a)(n,2),i=c[0],l=c[1],o=Object(a.useState)([]),b=Object(s.a)(o,2),O=b[0],g=b[1],I=Object(a.useState)(!1),k=Object(s.a)(I,2),U=k[0],A=k[1],E=Object(a.useState)(!1),J=Object(s.a)(E,2),P=J[0],R=J[1],H=function(e){l({type:e.target.value})},M=function(e){e.preventDefault();var n=new FormData;for(var a in i)n.append(a,i[a]);O.forEach((function(e){var t=e.file;n.append("file",t)})),B.a.post("/file",n,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Credentials":!0}}).then((function(e){})).catch((function(e){var n=e.response;if(console.log(n),n&&200!==n.status)return A(!1),void R(!0);g([]),l(t),R(!1),A(!0)}))};return Object(L.jsxs)("div",{children:[Object(L.jsx)(C.a,{component:"h1",variant:"h4",className:e.title,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u0444\u043e\u0442\u043e"}),U&&Object(L.jsx)(D.a,{className:e.alert,children:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0431\u044b\u043b\u0438 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u044b!"}),P&&Object(L.jsx)(D.a,{className:e.alert,severity:"error",children:"\u041e\u0448\u0438\u0431\u043a\u0430!"}),Object(L.jsxs)("div",{children:[Boolean(O.length)&&Object(L.jsx)(j.a,{className:e.listFiles,children:O.map((function(t,n){return Object(L.jsxs)(u.a,{children:[Object(L.jsx)(h.a,{title:t.name,children:Object(L.jsx)("img",{className:e.img,alt:"".concat(t.id),src:"".concat(t.previewUrl)})}),Object(L.jsxs)(y.a,{variant:"outlined",className:e.formControl,children:[Object(L.jsx)(F.a,{id:"grouped-select",children:"\u0412\u044b\u0431\u043e\u0440\u043a\u0430"}),Object(L.jsxs)(N.a,{labelId:"grouped-select",id:"grouped-select",value:i.type,onChange:H,label:"\u0412\u044b\u0431\u043e\u0440\u043a\u0430",children:[Object(L.jsx)(w.a,{value:"potato",children:"\u041a\u0430\u0440\u0442\u043e\u0448\u043a\u0430"}),Object(L.jsx)(w.a,{value:"other",children:"\u041d\u0435 \u043a\u0430\u0440\u0442\u043e\u0448\u043a\u0430"})]})]}),Object(L.jsx)(f.a,{children:Object(L.jsx)(m.a,{onClick:(a=t.id,function(){g(O.filter((function(e){return e.id!==a})))}),edge:"end","aria-label":"delete",children:Object(L.jsx)(p.a,{})})})]},t.id);var a}))}),Object(L.jsx)("form",{onSubmit:M,children:Object(L.jsxs)("div",{className:e.upload,children:[Object(L.jsx)("input",{onChange:function(e){var t=e.target.files||e.dataTransfer.files;if(t.length){var n=Array.from(t);g([].concat(Object(r.a)(n.map((function(e,n){return{id:x()(),name:e.name,file:t[n],previewUrl:URL.createObjectURL(e),select:""}}))),Object(r.a)(O)))}},name:"files",accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file"}),Object(L.jsx)("label",{htmlFor:"contained-button-file",children:Object(L.jsx)(d.a,{onClick:function(){},variant:"contained",color:"primary",component:"span",startIcon:Object(L.jsx)(v.a,{}),children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u0430\u0439\u043b\u044b"})}),Boolean(O.length)&&Object(L.jsx)(d.a,{className:e.send,onClick:M,variant:"contained",label:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",endIcon:Object(L.jsx)(S.a,{}),children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})]})]})};var A=function(){return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(U,{})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,159)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,l=t.getTTFB;n(e),a(e),c(e),i(e),l(e)}))};l.a.render(Object(L.jsx)(c.a.StrictMode,{children:Object(L.jsx)(A,{})}),document.getElementById("root")),E()},90:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.ec0dea1c.chunk.js.map